<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HTB - Analytics</title>
    <link href="/index.css" rel="stylesheet" />
  </head>

  <body>
    <article><div><h1>HTB - Analytics</h1><p>Target IP - 10.10.11.233</p><h2>Enumeration -</h2><h3>threader3000</h3><p><img src="/images/Pasted image 20241127093610.png" alt="Pasted image 20241127093610.png"></img></p><h3>Nmap</h3><p><img src="/images/Pasted image 20241127093728.png" alt="Pasted image 20241127093728.png"></img></p><h3>Taking a look at the website</h3><p><img src="/images/Pasted image 20241127094002.png" alt="Pasted image 20241127094002.png"></img></p><p>Add analytical.htb to /etc/hosts Upon further enumeration of the site. The login page redirects to data.analytical.htb which will also have to be placed in /etc/hosts.</p><h4>Login Page</h4><p><img src="/images/Pasted image 20241127094727.png" alt="Pasted image 20241127094727.png"></img></p><p>Here we find the login of the application running using Metabase version v0.46.6.</p><h2>Exploitation</h2><p>Upon figuring out the version of Metabase, through a quick google search, we find a Pre-Authentication Remote Code Execution vulnerability with CVE-2023-38646.</p><p>Here we find a github Proof of Concept: https://github.com/Red4mber/CVE-2023-38646/blob/main/README.md Upon exploiting the target, I am able to get a shell as metabase.</p><h2>Privilege Escalation</h2><p>We need to check the environment variables. In this we find credentials in the META<i>USER and META</i>PASS variables. We are then able to get a shell using ssh.</p><p>Then by finding out the version of ubuntu we are running. We discover another CVE for this distribution. By running a PoC of the version we are able to gain root.</p></div></article>
    <a href="/">Back to Home</a>
  </body>
  <hr>
  <footer>
    Made By Rishan
  </footer>
</html>